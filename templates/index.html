<!DOCTYPE html>
<html lang="zh-CN" id="app">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANSAPRA - 高中生自然科学论文自适应阅读程序</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Microsoft+YaHei&family=Noto+Serif+SC&family=LXGW+WenKai+TC&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- 顶部固定标题栏 -->
    <header class="fixed-header">
        <div class="header-content">
            <h1>ANSAPRA</h1>
            <p class="zh">高中生自然科学论文自适应阅读程序</p>
            <p class="en">Adaptive Natural Science Academic Paper Reading Agent for High School Students</p>
        </div>
    </header>

    <!-- 登录/注册界面 -->
    <div id="auth-container" class="auth-container active">
        <div class="auth-card">
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">
                    <span class="zh">登录</span>
                    <span class="en">Login</span>
                </button>
                <button class="auth-tab" data-tab="register">
                    <span class="zh">注册</span>
                    <span class="en">Register</span>
                </button>
            </div>

            <!-- 登录表单 -->
            <div class="auth-form active" id="login-form">
                <div class="form-group">
                    <label class="zh" for="login-email">邮箱</label>
                    <label class="en" for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label class="zh" for="login-password">密码</label>
                    <label class="en" for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button class="auth-btn" id="login-btn">
                    <span class="zh">登录</span>
                    <span class="en">Login</span>
                </button>
                <div class="auth-message" id="login-message"></div>
            </div>

            <!-- 注册表单 -->
            <div class="auth-form" id="register-form">
                <div class="form-group">
                    <label class="zh" for="register-email">邮箱</label>
                    <label class="en" for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label class="zh" for="register-password">密码</label>
                    <label class="en" for="register-password">Password</label>
                    <input type="password" id="register-password" required>
                </div>
                <button class="auth-btn" id="start-questionnaire-btn">
                    <span class="zh">下一步：填写认知框架问卷</span>
                    <span class="en">Next: Complete Cognitive Framework Questionnaire</span>
                </button>
                <div class="auth-message" id="register-message"></div>
            </div>
        </div>
    </div>

    <!-- 认知框架问卷 -->
    <div id="questionnaire-container" class="questionnaire-container">
        <div class="questionnaire-header">
            <h2 class="zh">认知框架调查问卷</h2>
            <h2 class="en">Cognitive Framework Questionnaire</h2>
            <button class="close-btn" id="close-questionnaire">×</button>
        </div>
        <div class="questionnaire-content">
            <!-- 问卷内容（根据文档生成） -->
            <form id="questionnaire-form">
                <!-- 基本情况 -->
                <section class="question-section">
                    <h3 class="zh">一、基本情况</h3>
                    <h3 class="en">I. Basic Information</h3>

                    <div class="question">
                        <label class="zh">1. 您所在的年级是？</label>
                        <label class="en">1. What grade are you in?</label>
                        <div class="options">
                            <label><input type="radio" name="grade" value="A" required> <span class="zh">9年级</span><span class="en">Grade 9</span></label>
                            <label><input type="radio" name="grade" value="B"> <span class="zh">10年级</span><span class="en">Grade 10</span></label>
                            <label><input type="radio" name="grade" value="C"> <span class="zh">11年级</span><span class="en">Grade 11</span></label>
                            <label><input type="radio" name="grade" value="D"> <span class="zh">12年级</span><span class="en">Grade 12</span></label>
                        </div>
                    </div>

                    <div class="question">
                        <label class="zh">2. 您所处的教育体系是？</label>
                        <label class="en">2. What education system are you under?</label>
                        <div class="options">
                            <label><input type="radio" name="education_system" value="A" required> <span class="zh">国际体系</span><span class="en">International Education System</span></label>
                            <label><input type="radio" name="education_system" value="B"> <span class="zh">普高体系</span><span class="en">General High School Education System</span></label>
                        </div>
                    </div>

                    <div class="question">
                        <label class="zh">3. 您对各个自然科学学科的感兴趣程度？（1-5打分，1=非常不感兴趣，5=非常感兴趣）</label>
                        <label class="en">3. What is your level of interest in each natural science subject? (Rate from 1 to 5, 1=Not interested, 5=Very interested)</label>
                        <div class="rating-options">
                            <div class="rating-item">
                                <span class="zh">物理学：</span><span class="en">Physics:</span>
                                <input type="number" min="1" max="5" name="interest_physics" required>
                            </div>
                            <div class="rating-item">
                                <span class="zh">生物学、医学等：</span><span class="en">Biology, Medicine, etc.:</span>
                                <input type="number" min="1" max="5" name="interest_biology" required>
                            </div>
                            <div class="rating-item">
                                <span class="zh">化学：</span><span class="en">Chemistry:</span>
                                <input type="number" min="1" max="5" name="interest_chemistry" required>
                            </div>
                            <div class="rating-item">
                                <span class="zh">地理地质学：</span><span class="en">Geography and Geology:</span>
                                <input type="number" min="1" max="5" name="interest_geography" required>
                            </div>
                            <div class="rating-item">
                                <span class="zh">天体天文学：</span><span class="en">Astronomy and Astrophysics:</span>
                                <input type="number" min="1" max="5" name="interest_astronomy" required>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="zh">4. 您学习自然科学课外知识的频率是？</label>
                        <label class="en">4. How often do you learn extracurricular knowledge of natural sciences?</label>
                        <div class="options">
                            <label><input type="radio" name="extracurricular_frequency" value="A" required> <span class="zh">一周1次或更频繁</span><span class="en">Once a week or more frequently</span></label>
                            <label><input type="radio" name="extracurricular_frequency" value="B"> <span class="zh">一个月1-3次</span><span class="en">1-3 times a month</span></label>
                            <label><input type="radio" name="extracurricular_frequency" value="C"> <span class="zh">几个月1次</span><span class="en">Once every few months</span></label>
                        </div>
                    </div>

                    <!-- 学科测试题（5-9题） -->
                    <div class="question">
                        <label class="zh">5. 在双缝干涉实验中，使用波长为λ的单色光。如果将整个实验装置从空气移入折射率为n的透明液体中，同时将屏到双缝的距离D和双缝间距d保持不变，那么屏幕上相邻明条纹中心的间距Δx将如何变化？</label>
                        <label class="en">5. In a double-slit interference experiment, monochromatic light with a wavelength of λ is used. If the entire experimental setup is moved from air into a transparent liquid with a refractive index of n, while keeping the distance D from the screen to the double slits and the slit spacing d unchanged, how will the distance Δx between adjacent bright fringe centers on the screen change?</label>
                        <div class="options">
                            <label><input type="radio" name="physics_question" value="A" required> A. <span class="zh">变为原来的n倍</span><span class="en">Increase to n times the original value</span></label>
                            <label><input type="radio" name="physics_question" value="B"> B. <span class="zh">变为原来的1/n</span><span class="en">Decrease to 1/n of the original value</span></label>
                            <label><input type="radio" name="physics_question" value="C"> C. <span class="zh">保持不变</span><span class="en">Remain unchanged</span></label>
                            <label><input type="radio" name="physics_question" value="D"> D. <span class="zh">无法确定，因为光的频率也改变了</span><span class="en">Cannot be determined, because the frequency of light also changes</span></label>
                        </div>
                    </div>

                    <div class="question">
                        <label class="zh">6. 将少量固体醋酸钠（CH₃COONa）加入到一定体积的稀醋酸（CH₃COOH）溶液中。假设溶液体积变化忽略不计，该操作会导致溶液中：</label>
                        <label class="en">6. A small amount of solid sodium acetate (CH₃COONa) is added to a certain volume of dilute acetic acid (CH₃COOH) solution. Assuming the change in solution volume is negligible, this operation will cause:</label>
                        <div class="options">
                            <label><input type="radio" name="chemistry_question" value="A" required> A. <span class="zh">pH值显著下降</span><span class="en">A significant decrease in pH value</span></label>
                            <label><input type="radio" name="chemistry_question" value="B"> B. <span class="zh">醋酸根离子浓度与氢离子浓度的比值增大</span><span class="en">An increase in the ratio of acetate ion concentration to hydrogen ion concentration</span></label>
                            <label><input type="radio" name="chemistry_question" value="C"> C. <span class="zh">醋酸的电离度显著降低</span><span class="en">A significant reduction in the degree of ionization of acetic acid</span></label>
                            <label><input type="radio" name="chemistry_question" value="D"> D. <span class="zh">水的离子积常数Kw增大</span><span class="en">An increase in the ion product constant Kw of water</span></label>
                        </div>
                    </div>

                    <!-- 其他测试题省略，完整代码包含全部9题 -->
                </section>

                <!-- 科学感知（省略部分题目，完整代码包含全部9题） -->
                <section class="question-section">
                    <h3 class="zh">二、科学感知</h3>
                    <h3 class="en">II. Scientific Perception</h3>

                    <div class="question">
                        <label class="zh">1. 您认为您对以下学习方式的喜好与习惯程度是？（1-5评分，1=极其不喜欢/习惯，5=极其喜欢/习惯）</label>
                        <label class="en">1. What is your preference and habit level for the following learning methods? (Rated on a scale of 1 to 5, 1=Extremely dislike/unaccustomed, 5=Extremely like/accustomed)</label>
                        <div class="rating-options">
                            <div class="rating-item">
                                <span class="zh">量化学习：</span><span class="en">Quantitative learning:</span>
                                <input type="number" min="1" max="5" name="learning_quantitative" required>
                            </div>
                            <!-- 其他学习方式省略 -->
                        </div>
                    </div>
                </section>

                <button type="submit" class="submit-questionnaire-btn">
                    <span class="zh">提交问卷</span>
                    <span class="en">Submit Questionnaire</span>
                </button>
            </form>
        </div>
    </div>

    <!-- 主界面 -->
    <div id="main-container" class="main-container">
        <!-- 导航栏 -->
        <nav class="main-nav">
            <ul>
                <li><a href="#website-intro" class="nav-link active" data-page="website-intro">
                    <span class="zh">网站介绍</span>
                    <span class="en">Website Introduction</span>
                </a></li>
                <li><a href="#user-guide" class="nav-link" data-page="user-guide">
                    <span class="zh">使用说明</span>
                    <span class="en">User Guide</span>
                </a></li>
                <li><a href="#paper-interpretation" class="nav-link" data-page="paper-interpretation">
                    <span class="zh">论文解读</span>
                    <span class="en">Paper Interpretation</span>
                </a></li>
                <li><a href="#user-settings" class="nav-link" data-page="user-settings">
                    <span class="zh">用户设置</span>
                    <span class="en">User Settings</span>
                </a></li>
            </ul>
        </nav>

        <!-- 内容区域 -->
        <div class="content-area">
            <!-- 网站介绍 -->
            <section id="website-intro" class="content-page active">
                <div class="section-header">
                    <h2 class="zh">网站介绍</h2>
                    <h2 class="en">Website Introduction</h2>
                </div>

                <div class="section-content">
                    <div class="intro-section">
                        <h3 class="zh">本网站开发理念</h3>
                        <h3 class="en">Development Philosophy</h3>
                        <p class="zh">
                            科学学术论文，又称原始科学文献（PSLs），承载着科学学术界最前沿的信息，是最直接、最原创的科学媒介。它们在专业研究领域广泛传播，却很少直接进入公众科普与教育领域。因此，高中生阅读科学学术论文的习惯普及率低下，成为本项目希望解决的社会痛点。通过前期调研，我们发现这一社会痛点的成因主要包括论文可读性下降、视觉呈现效果差等，而其中最具有影响力的是专门针对高中生、支持用户个性化设置的论文阅读程序的缺乏。为解决上述问题，我们决定开发 ANSAPRA，其名称源自“Adaptive Natural Science Academic Paper Reading Agent”的缩写。本项目从自然科学学术论文入手，关联Nature、SCI顶级期刊，对用户整体自然科学素养提升具有重要意义。
                        </p>
                        <p class="en">
                            Scientific academic papers, also known as primary scientific literature (PSLs), carry the most cutting-edge information in the scientific community and serve as the most direct and original scientific medium. They are widely disseminated in professional research fields but rarely directly enter the public science popularization and education sectors. Therefore, the low popularity of the habit of reading scientific academic papers among high school students has become a social pain point that this project aims to address. Through preliminary research, we found that the causes of this social pain point mainly include the low readability of papers and poor visual presentation effects, among which the most influential factor is the lack of paper reading programs tailored for high school students that support personalized user settings. To solve the above problems, we decided to develop ANSAPRA, whose name is derived from the abbreviation of "Adaptive Natural Science Academic Paper Reading Agent". Starting with natural science academic papers, this project is linked to top journals such as Nature and SCI, and is of great significance for improving users' overall natural science literacy.
                        </p>
                    </div>

                    <!-- 其他介绍部分省略 -->
                </div>
            </section>

            <!-- 使用说明 -->
            <section id="user-guide" class="content-page">
                <div class="section-header">
                    <h2 class="zh">使用说明</h2>
                    <h2 class="en">User Guide</h2>
                </div>
                <!-- 使用说明内容省略 -->
            </section>

            <!-- 论文解读 -->
            <section id="paper-interpretation" class="content-page">
                <div class="section-header">
                    <h2 class="zh">论文解读</h2>
                    <h2 class="en">Paper Interpretation</h2>
                </div>

                <div class="interpretation-container">
                    <!-- 上传区域 -->
                    <div class="upload-area">
                        <div class="upload-box">
                            <input type="file" id="paper-upload" accept=".pdf,.docx" hidden>
                            <label for="paper-upload" class="upload-label">
                                <span class="zh">点击或拖拽上传论文（PDF/DOCX，最大16MB）</span>
                                <span class="en">Click or drag to upload paper (PDF/DOCX, max 16MB)</span>
                            </label>
                            <div id="upload-filename" class="upload-filename"></div>
                        </div>
                        <div class="form-group">
                            <label class="zh" for="paper-title">论文标题（可选）</label>
                            <label class="en" for="paper-title">Paper Title (Optional)</label>
                            <input type="text" id="paper-title" placeholder="输入论文标题">
                        </div>
                        <div class="form-group">
                            <label class="zh" for="paper-keywords">关键词（用于相关论文推送）</label>
                            <label class="en" for="paper-keywords">Keywords (for related paper recommendation)</label>
                            <input type="text" id="paper-keywords" placeholder="输入关键词，用逗号分隔" required>
                        </div>
                        <button id="start-interpretation" class="primary-btn">
                            <span class="zh">开始解读</span>
                            <span class="en">Start Interpretation</span>
                        </button>
                    </div>

                    <!-- 解读结果区域 -->
                    <div class="result-area">
                        <div class="result-split">
                            <!-- 原文展示 -->
                            <div class="original-paper">
                                <h3 class="zh">论文原文</h3>
                                <h3 class="en">Original Paper</h3>
                                <div id="pdf-viewer" class="pdf-viewer">
                                    <p class="zh">请上传论文文件</p>
                                    <p class="en">Please upload a paper file</p>
                                </div>
                                <div class="annotation-tools">
                                    <button class="annotation-btn" data-color="yellow">
                                        <span class="zh">黄色批注</span>
                                        <span class="en">Yellow Annotation</span>
                                    </button>
                                    <!-- 其他颜色批注按钮 -->
                                </div>
                            </div>

                            <!-- 解读内容 -->
                            <div class="interpretation-content">
                                <h3 class="zh">论文解读</h3>
                                <h3 class="en">Paper Interpretation</h3>
                                <div id="interpretation-result" class="interpretation-result">
                                    <p class="zh">解读结果将显示在这里</p>
                                    <p class="en">Interpretation result will be displayed here</p>
                                </div>
                            </div>
                        </div>

                        <!-- 相关论文推送 -->
                        <div class="related-papers">
                            <h3 class="zh">相关论文推送</h3>
                            <h3 class="en">Related Papers</h3>
                            <p class="note zh">论文推送功能受到限制，部分情况下推送失败</p>
                            <p class="note en">The paper recommendation function is subject to restrictions, and recommendations may fail in some cases</p>
                            <div id="related-papers-list" class="papers-list">
                                <!-- 相关论文列表将动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 用户设置 -->
            <section id="user-settings" class="content-page">
                <div class="section-header">
                    <h2 class="zh">用户设置</h2>
                    <h2 class="en">User Settings</h2>
                </div>

                <div class="settings-container">
                    <!-- 阅读习惯设置 -->
                    <div class="settings-section">
                        <h3 class="zh">阅读习惯设置</h3>
                        <h3 class="en">Reading Habit Settings</h3>
                        <!-- 设置项省略 -->
                    </div>

                    <!-- 视觉设置 -->
                    <div class="settings-section">
                        <h3 class="zh">视觉设置</h3>
                        <h3 class="en">Visual Settings</h3>
                        <div class="setting-item">
                            <label class="zh">背景主题</label>
                            <label class="en">Background Theme</label>
                            <div class="theme-options">
                                <button class="theme-btn" data-theme="light_pink" style="background-color: #ffecf0;">
                                    <span class="zh">浅粉色</span>
                                    <span class="en">Light Pink</span>
                                </button>
                                <!-- 其他主题按钮 -->
                                <input type="file" id="custom-background" accept="image/*" hidden>
                                <label for="custom-background" class="theme-btn custom-theme">
                                    <span class="zh">自定义</span>
                                    <span class="en">Custom</span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <label class="zh">字体设置</label>
                            <label class="en">Font Settings</label>
                            <div class="font-options">
                                <select id="font-family" class="setting-select">
                                    <option value="Microsoft YaHei">Microsoft YaHei</option>
                                    <option value="Noto Serif SC">Noto Serif SC</option>
                                    <option value="LXGW WenKai TC">LXGW WenKai TC</option>
                                </select>
                                <input type="range" id="font-size" min="16" max="30" value="18" class="setting-slider">
                                <span id="font-size-value">18px</span>
                            </div>
                        </div>
                    </div>

                    <!-- 语言设置 -->
                    <div class="settings-section">
                        <h3 class="zh">语言设置</h3>
                        <h3 class="en">Language Settings</h3>
                        <div class="language-options">
                            <label><input type="radio" name="language" value="zh" checked> <span class="zh">中文</span><span class="en">Chinese</span></label>
                            <label><input type="radio" name="language" value="en"> <span class="zh">英文</span><span class="en">English</span></label>
                        </div>
                    </div>

                    <!-- 账户设置 -->
                    <div class="settings-section">
                        <h3 class="zh">账户设置</h3>
                        <h3 class="en">Account Settings</h3>
                        <button id="logout-btn" class="danger-btn">
                            <span class="zh">退出登录</span>
                            <span class="en">Logout</span>
                        </button>
                        <button id="delete-account-btn" class="danger-btn">
                            <span class="zh">删除账户</span>
                            <span class="en">Delete Account</span>
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- 底部链接 -->
        <footer class="main-footer">
            <div class="footer-links">
                <a href="#contact-us" class="footer-link" data-modal="contact-us">
                    <span class="zh">联系我们</span>
                    <span class="en">Contact Us</span>
                </a>
                <a href="#copyright" class="footer-link" data-modal="copyright">
                    <span class="zh">版权说明</span>
                    <span class="en">Copyright Notice</span>
                </a>
                <a href="#terms" class="footer-link" data-modal="terms">
                    <span class="zh">服务条款</span>
                    <span class="en">Terms of Service</span>
                </a>
                <a href="#privacy" class="footer-link" data-modal="privacy">
                    <span class="zh">隐私政策</span>
                    <span class="en">Privacy Policy</span>
                </a>
                <a href="#cookie" class="footer-link" data-modal="cookie">
                    <span class="zh">Cookie政策</span>
                    <span class="en">Cookie Policy</span>
                </a>
            </div>
        </footer>
    </div>

    <!-- 模态框 -->
    <div id="modal-container" class="modal-container">
        <div class="modal">
            <button class="close-modal" id="close-modal">×</button>
            <div class="modal-content" id="modal-content">
                <!-- 模态框内容将动态加载 -->
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
